# 記事の書き方・記法一覧

このドキュメントでは、記事Markdownファイルで使用できる記法を説明します。

---

## フロントマター

記事ファイルの先頭に必ず記述します。

```markdown
---
title: "記事タイトル"
date: 2026-02-18
slug: my-article
draft: false
tags: ["TypeScript", "Web"]
description: "記事の概要 (150-200文字推奨)"
---
```

| フィールド    | 必須 | 説明                                     |
|-------------|------|------------------------------------------|
| `title`     | ✅   | 記事タイトル                              |
| `date`      | ✅   | 公開日 (YYYY-MM-DD)                      |
| `slug`      | ✅   | URL用の識別子 (例: `/posts/my-article`)   |
| `draft`     | ✅   | `true` = 下書き / `false` = 公開         |
| `tags`      | -    | タグキーの配列 (`src/content/tags.json` 参照) |
| `description` | -  | メタ概要 (SEO用)                         |

---

## 見出し

```markdown
# H1 見出し
## H2 見出し
### H3 見出し
#### H4 見出し
```

> 記事タイトルは `title` フロントマターで設定するため、本文内の `#` は H2 (`##`) から始めることを推奨します。

---

## テキスト装飾

```markdown
**太字**
*イタリック*
~~取り消し線~~
```

---

## リンク

```markdown
[リンクテキスト](https://example.com)
```

---

## インラインコード

バッククォートで囲みます。

```markdown
`Set` や `Map` のような書き方ができます。
```

---

## コードブロック

言語名を指定するとシンタックスハイライトが適用されます。

````markdown
```typescript
const greet = (name: string): string => {
    return `Hello, ${name}!`;
};
```
````

よく使う言語指定: `typescript`, `javascript`, `python`, `bash`, `json`, `yaml`, `markdown`, `cpp`

---

## 数式 (KaTeX)

### インライン数式

`$...$` で囲みます。

```markdown
質量とエネルギーの関係式は $E = mc^2$ です。

計算量は $O(\log N)$ です。
```

### ブロック数式

`$$...$$` で囲みます。

```markdown
$$
x = \frac{-b \pm \sqrt{b^2 - 4ac}}{2a}
$$
```

```markdown
$$
\sum_{i=1}^{n} i = \frac{n(n+1)}{2}
$$
```

KaTeX でサポートされている記法は [KaTeX サポート一覧](https://katex.org/docs/support_table) を参照してください。

---

## 画像

```markdown
![代替テキスト](./images/image.png)
```

`public/images/` に配置した画像はコミット時に自動で Cloudflare R2 にアップロードされます (`npm run prepare`)。

---

## リスト

### 箇条書き

```markdown
- 項目1
- 項目2
  - 入れ子項目
```

### 番号付きリスト

```markdown
1. 手順1
2. 手順2
3. 手順3
```

---

## 引用

```markdown
> これは引用文です。
> 複数行にわたる場合も同様です。
```

---

## 水平線

```markdown
---
```

---

## テーブル

```markdown
| 列1     | 列2     | 列3     |
|---------|---------|---------|
| セル1   | セル2   | セル3   |
| セル4   | セル5   | セル6   |
```

アライメント指定:

```markdown
| 左寄せ  | 中央揃え | 右寄せ  |
|:--------|:--------:|--------:|
| テキスト | テキスト | テキスト |
```

---

## 続きを読む (excerpt 区切り)

トップページの記事一覧で表示する excerpt の範囲を制御できます。

```markdown
ここがトップページに表示される導入文です。

<!-- more -->

ここ以降は記事詳細ページでのみ表示されます。
```

`<!-- more -->` がない場合は最初の段落が自動的に excerpt として使われます。

---

## 旅程ブロック

電車の旅程を見やすくフォーマットしたブロックを挿入できます。

````markdown
```itinerary
08:55発 高松
ＪＲ予讃線 快速マリンライナー16号 岡山行 | 52分
09:47着 岡山
```
````

### 各行の書式

| 書式 | 意味 | 例 |
|------|------|----|
| `HH:MM発 駅名` | 出発駅 | `08:55発 高松` |
| `HH:MM着 駅名` | 到着駅 | `09:47着 岡山` |
| `路線名 \| 所要時間` | 乗車路線（所要時間あり） | `ＪＲ予讃線 快速マリンライナー16号 岡山行 \| 52分` |
| `路線名` | 乗車路線（所要時間なし） | `ＪＲ山陽本線 姫路行` |
| `->駅名` | 直通通過中間駅 | `->山科` |
| (空行) | 乗り換え区切り線 | |

### 記述例（複数区間・直通あり）

````markdown
```itinerary
08:55発 高松
ＪＲ予讃線 快速マリンライナー16号 岡山行 | 52分
09:47着 岡山

10:11発 岡山
ＪＲ山陽本線 相生（兵庫県）行 | 1時間7分
11:18着 相生

12:12発 姫路
ＪＲ東海道山陽本線新快速 敦賀行 | 1時間38分
->山科
ＪＲ湖西線新快速 敦賀行 | 1時間11分
->近江塩津
ＪＲ北陸本線新快速 敦賀行 | 14分
15:15着 敦賀
```
````

- **空行**を入れると乗り換えを示す破線（区切り線）が引かれます。
- **`->駅名`** は直通列車が途中で路線を跨ぐ際の通過駅を示します。
- **所要時間**は省略できます（時刻が不明な区間など）。
